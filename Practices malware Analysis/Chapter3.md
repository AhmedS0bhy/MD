
# Basic Dynamic analysis 

## introduction
- monotring the malware interactions
    - Processes/ os components
    - file system 
    - registry
    - network 
- examining the system after run the malware

## Running the malwar 
### Sandboxes architecture 
- full systm emulation
- emulation of operating system
- tools 
    - online: (virustotl,anyrun,hybrid anaylsis, joesandbox)
    - offline: (cuckoo sandbox, capa sandbox,   sandboxie + buster sandbox analyzer)

#### sandboxes disadvantage 
- delaying execution 
    - sleep 
- waiting for network packet 
- Some malware requires the presence of certain registry keys or files on System 
- If the malware is a DLL, certain exported functions will not be invoked properly 
- The sandbox environment OS may not be correct for the malware. 
- A sandbox cannot tell you what the malware does. It may report basic
functionality, but it cannot tell you that the malware is a custom Security
Accounts Manager (SAM) hash dump utility or an encrypted keylogging
backdoor, for example. Those are conclusions that you must draw on
your own.

### run dll 
```powershell
rundll32.exe filename.dll, <#ref ordinal > or <funcName>
```

## Observing its behavior
### Processe Activity 
- tools (process hacker, procss explorer) 
- tools (AutoRuns,procmon,procdot)

### run during system bootup or login 

### File system Activity
- Read 
    - Read from its config file
    - Read and steal user's data 
- Write 
    - Write to its config files
    - Encrypt data 
- Delete 
    - Delete user's files   

- tool (procmon,fileActivityWatch,folderActivityview)
### Registry Activity 
- Read reg
- Write reg
- tool (Regshot2,registrychangesview)

### Network Activity
- Download 
    - download update or dropper
    - advertisements
    - pay-to-install
    - Ddos
- Upload
    - Exfiltrate data 
    - send encryption key
- Lateral movement
    infect other machines

- tools (Wireshark,Fakenet-ng,FakeDNS.p)
## process replacement 
which involves running a
process on the system and overwriting its memory space with a malicious exe-
cutable. Process replacement provides the malware with the same privileges
